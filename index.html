<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bip JS</title>
    <link rel="stylesheet" href="src/css/bip.css">
</head>
<style>
    html {
        height: 100%;
        overflow: hidden;
    }

    body {
        position: relative;
        margin: 0;
        padding: 0;
        font-family: sans-serif;
        height: 100%;
    }

    *, *::before, *::after {
        box-sizing: border-box;
    }

    .wrapper {
        background: #fff;
        width: 100%;
        height: 100%;
        overflow: hidden;
        will-change: transform;
    }

    /* Demo styling */
    .overlay {
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, .5);
        opacity: 0;
        /*transition: opacity 800ms linear 200ms, transform 800ms linear 200ms, width 1200ms linear;*/
        transition: opacity 200ms;
        /*transform: scale(.6);*/
        pointer-events: none;
        touch-action: none;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
    }

    .overlay.is-open {
        opacity: 1;
        /*transform: scale(1.2) translateX(50%);*/
        cursor: pointer;
        pointer-events: initial;
        touch-action: initial;
        /*width: 50%;*/
    }

    .top,
    .right,
    .bottom,
    .left {
        position: absolute;
        z-index: 1;
        background: #fff;
        padding: 1rem;
        box-shadow: none;
    }

    .top,
    .bottom {
        width: 100%;
        transition: transform 300ms;
    }

    .top.is-open {
        transform: translateY(0);
        z-index: 3;
    }

    .bottom.is-open {
        transform: translateY(1rem) scale(.9);
        z-index: 3;
    }

    .bottom button.is-open {
        transform: translateX(-40vw);
    }

    .top button,
    .bottom button {
        position: absolute;
        left: calc(50% - 2rem);
        width: 4rem;
    }

    .top {
        top: 0;
        transform: translateY(-100%);
    }

    .top button {
        top: 100%;
    }

    .bottom {
        bottom: 0;
        transform: translateY(calc(100% - 4rem));
        box-shadow: 0 0 10px 0 rgba(0,0,0,.2);
    }

    .bottom button {
        top: 0;
        transform: translateX(0);
        transition: transform 150ms;
    }

    .bottom h1 {
        margin-top: 0;
    }

    .right,
    .left {
        height: 100%;
        transition: transform 300ms ease-out;
    }

    .right.is-open,
    .left.is-open {
        transform: translateX(0);
        z-index: 3;
    }

    .is-touchmove {
        z-index: 3;
    }

    .right button,
    .left button {
        position: absolute;
        top: 0;
        height: 4rem;
    }

    .right {
        right: 0;
        transform: translateX(100%);
    }

    .right button {
        right: 100%;
    }

    .left {
        left: 0;
        transform: translateX(-100%);
    }

    .left button {
        left: 100%;
    }

    button {
        width: 4rem;
        height: 4rem;
        background: #fff;
        border: 1px solid #ddd;
        line-height: 44px;
        text-align: center;
    }

    .content {
        padding: 2rem;
        will-change: auto;
        cursor: pointer;
        transition: transform 200ms linear 100ms;
        transform: scale(1);
    }

    .content.is-open {
        transform: scale(0);
    }

</style>
<body>

<div class="wrapper">
    <div class="overlay" data-touch-id="overlay" data-touch-closes="top,right,bottom,left"></div>
    <div class="top" data-touch data-touch-id="top" data-touch-buddies="overlay">
        <button type="button" data-touch-controls="top">Down</button>
        <h1>Top</h1>
        <p>Top details</p>
        <p>Top details</p>
        <p>Top details</p>
    </div>
    <div class="right" data-touch data-touch-id="right" data-touch-buddies="overlay">
        <button type="button" data-touch-controls="right">Left</button>
        <h1>Right</h1>
        <p>Right details</p>
        <p>Right details</p>
        <p>Right details</p>
    </div>
    <div class="bottom" data-touch data-touch-id="bottom" data-touch-buddies="overlay,bottombutton,content">
        <button type="button" data-touch-controls="bottom" data-touch-id="bottombutton">Up</button>
        <h1>Bottom</h1>
        <p>Bottom details</p>
        <p>Bottom details</p>
        <p>Bottom details</p>
    </div>
    <div class="left" data-touch data-touch-id="left" data-touch-buddies="overlay">
        <button type="button" data-touch-controls="left">Right</button>
        <h1>Left</h1>
        <p>Left details</p>
        <p>Left details</p>
        <p>Left details</p>
    </div>
    <div class="content" data-touch-id="content">
        <h1>Center content</h1>
        <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Donec sed odio dui. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Sed posuere consectetur est at lobortis.</p>
        <p>Cras mattis consectetur purus sit amet fermentum. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla. Curabitur blandit tempus porttitor. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
    </div>
</div>

<!-- loading -->
<script src="src/js/bip.js"></script>

<!-- initialize -->
<script type="text/javascript">
    const bip = new Bip('[data-touch]', {
        cssValues: ['opacity', 'width', 'height', 'top', 'right', 'bottom', 'left']
    });

    // console.log(bip);

    // bip.toggle(document.querySelector('[data-touch-id="right"'));

    // document.addEventListener('bipToggle', function () {
    //   console.log('test toggle');
    // }, false);
    // document.addEventListener('bipDrag', function () {
    //   console.log('start drag');
    // }, false);
    // document.addEventListener('bipDragged', function () {
    //   console.log('drag stopped');
    // }, false);

</script>
</body>
</html>
